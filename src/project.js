window.__require=function t(e,o,n){function r(i,a){if(!o[i]){if(!e[i]){var s=i.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!a&&u)return u(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+i+"'")}}var l=o[i]={exports:{}};e[i][0].call(l.exports,function(t){return r(e[i][1][t]||t)},l,l.exports,t,e,o,n)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<n.length;i++)r(n[i]);return r}({oneItem:[function(t,e,o){"use strict";cc._RF.push(e,"423e0fGGc1KAK8ruGq2zzOU","oneItem"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./storage"),r=cc._decorator,c=r.ccclass,i=r.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.count=null,e.result=null,e.answer=null,e}return __extends(e,t),e.prototype.init=function(t){this.count.string=""+t.count,this.result.string=t.a+"A"+t.b+"B",this.answer.string=""+t.answer},e.prototype.getd=function(){return new n.IGuessNumberGameStorage(parseInt(this.count.string),this.result.string,this.answer.string)},__decorate([i({type:cc.Label})],e.prototype,"count",void 0),__decorate([i({type:cc.Label})],e.prototype,"result",void 0),__decorate([i({type:cc.Label})],e.prototype,"answer",void 0),e=__decorate([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{"./storage":"storage"}],scMain:[function(t,e,o){"use strict";cc._RF.push(e,"5cf4cenEVJO8Ka+w1AjZyR7","scMain"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,c=n.property,i=t("./storage"),a=t("./oneItem"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnDone=null,e.input=null,e.pfOneItem=null,e.content=null,e.pads=null,e.btnRetry=null,e.btnBack=null,e.btnRule=null,e.ruleBg=null,e.answer="",e.count=0,e.hasWon=!1,e}return __extends(e,t),e.prototype.start=function(){var t=this;this.initAnswer(),this.count=0,this.content.height=2,this.btnDone.on(cc.Node.EventType.TOUCH_END,function(){var o=t.input.string;if(t.btnDone.color=cc.color(130,130,130),4!=o.length||!t.isDuplicated(o))return cc.warn("Invalid number!");t.input.string="";for(var n=new i.IGuessNumberGameStorage(++t.count,"0A0B",o),r=0;r<4;r++)for(var c=0;c<4;c++)if(o[r]==t.answer[c]){if(r==c){n.a++;break}n.b++;break}t.add(n),t.hasWon=4==n.a,t.hasWon?(t.btnRetry.color=cc.color(130,130,130),i.addLocal(n)):t.btnRetry.color=cc.color(206,206,206),e()},this);var e=function(){if(4!=t.input.string.length){var o=function(o){var n=t.pads.children[o];return n.off(cc.Node.EventType.TOUCH_END),10!=o&&t.input.string.includes(9==o?"0":o+1+"")?(n.color=cc.color(155,155,155),"continue"):10==o&&0==t.input.string.length?(n.color=cc.color(155,155,155),"continue"):(n.color=cc.color(255,255,255),void n.on(cc.Node.EventType.TOUCH_END,function(){10==o&&t.input.string.length<1||(10==o?t.input.string=t.input.string.substring(0,t.input.string.length-1):t.input.string.length<4&&(t.input.string+=9==o?"0":o+1),4!=t.input.string.length?t.btnDone.color=cc.color(130,130,130):t.btnDone.color=cc.color(206,206,206),e())}))};for(n=0;n<t.pads.children.length;n++)o(n)}else for(var n=0;n<10;n++)t.pads.children[n].color=cc.color(155,155,155),t.pads.children[n].off(cc.Node.EventType.TOUCH_END)};e(),this.btnRetry.on(cc.Node.EventType.TOUCH_END,function(){if(!t.hasWon&&0!=t.content.childrenCount){for(var o=0;o<t.content.children.length;o++)t.content.children[o].destroy();t.count=0,t.content.height=2,t.input.string="",e(),t.initAnswer()}},this),this.btnBack.on(cc.Node.EventType.TOUCH_END,function(){return cc.director.loadScene("scStart")}),this.btnRule.on(cc.Node.EventType.TOUCH_END,function(){t.ruleBg.active=!0,t.ruleBg.on(cc.Node.EventType.TOUCH_END,function(){t.ruleBg.off(cc.Node.EventType.TOUCH_END),t.ruleBg.active=!1})})},e.prototype.initAnswer=function(){for(var t,e,o,n=Math.floor(10*Math.random());(t=Math.floor(10*Math.random()))==n;);for(;(e=Math.floor(10*Math.random()))==n||e==t;);for(;(o=Math.floor(10*Math.random()))==n||o==t||o==e;);this.answer=n+""+t+e+o},e.prototype.isDuplicated=function(t){var e=t[0],o=t[0],n=t[0],r=t[0];return e==o||e==n||e==r||o==n||o==r||n==r},e.prototype.add=function(t){var e=cc.instantiate(this.pfOneItem);if(this.hasWon){for(var o=this.content.childrenCount-1;o>=0;o--)this.content.children[o].destroy();this.initAnswer(),this.count=1,t.count=1}this.content.height+=52,this.content.addChild(e),e.position=cc.v2(0,-(2+52*(t.count-1))),e.getComponent(a.default).init(t)},__decorate([c({type:cc.Node})],e.prototype,"btnDone",void 0),__decorate([c({type:cc.Label})],e.prototype,"input",void 0),__decorate([c({type:cc.Prefab})],e.prototype,"pfOneItem",void 0),__decorate([c({type:cc.Node})],e.prototype,"content",void 0),__decorate([c({type:cc.Node})],e.prototype,"pads",void 0),__decorate([c({type:cc.Node})],e.prototype,"btnRetry",void 0),__decorate([c({type:cc.Node})],e.prototype,"btnBack",void 0),__decorate([c({type:cc.Node})],e.prototype,"btnRule",void 0),__decorate([c({type:cc.Node})],e.prototype,"ruleBg",void 0),e=__decorate([r],e)}(cc.Component);o.default=s,cc._RF.pop()},{"./oneItem":"oneItem","./storage":"storage"}],scRecord:[function(t,e,o){"use strict";cc._RF.push(e,"0d0d23DP09LoKSZ7j1/6HrW","scRecord"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./storage"),r=t("./oneItem"),c=cc._decorator,i=c.ccclass,a=c.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.oneItem=null,e.btnBack=null,e}return __extends(e,t),e.prototype.start=function(){for(var t=n.getLocal(),e=0;e<t.length;e++){var o=cc.instantiate(this.oneItem);this.content.height+=52,this.content.addChild(o),o.setPosition(0,-(2+52*e)),o.getComponent(r.default).init(t[e])}this.btnBack.on(cc.Node.EventType.TOUCH_END,function(){return cc.director.loadScene("scStart")})},__decorate([a({type:cc.Node})],e.prototype,"content",void 0),__decorate([a({type:cc.Prefab})],e.prototype,"oneItem",void 0),__decorate([a({type:cc.Node})],e.prototype,"btnBack",void 0),e=__decorate([i],e)}(cc.Component);o.default=s,cc._RF.pop()},{"./oneItem":"oneItem","./storage":"storage"}],scStart:[function(t,e,o){"use strict";cc._RF.push(e,"e576dGXo1VEOLqH4kLmtc7r","scStart"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,c=n.property,i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStart=null,e.btnRecord=null,e}return __extends(e,t),e.prototype.start=function(){this.btnStart.on(cc.Node.EventType.TOUCH_START,function(){return cc.director.loadScene("scMain")}),this.btnRecord.on(cc.Node.EventType.TOUCH_START,function(){return cc.director.loadScene("scRecord")})},__decorate([c({type:cc.Node})],e.prototype,"btnStart",void 0),__decorate([c({type:cc.Node})],e.prototype,"btnRecord",void 0),e=__decorate([r],e)}(cc.Component);o.default=i,cc._RF.pop()},{}],storage:[function(t,e,o){"use strict";cc._RF.push(e,"65e72wUPtlClLneLgWivuEx","storage"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){return function(t,e,o){this.count=t,this.answer=o,this.a=parseInt(e[0]),this.b=parseInt(e[2])}}();o.IGuessNumberGameStorage=n,o.addLocal=function(t,e){if(void 0===e&&(e=!1),!localStorage.getItem("GUESSNUMBER_local")||e)localStorage.setItem("GUESSNUMBER_local",JSON.stringify([t]));else{var o=JSON.parse(localStorage.getItem("GUESSNUMBER_local"));o.push(t),localStorage.setItem("GUESSNUMBER_local",JSON.stringify(o))}},o.getLocal=function(){var t;if(!localStorage.getItem("GUESSNUMBER_local"))return[];t=JSON.parse(localStorage.getItem("GUESSNUMBER_local"));for(var e=[],o=0;o<t.length;o++)if(0!=o){for(var n=!1,r=0;r<e.length;r++)if(e[r].count>t[o].count){e.splice(r,0,t[o]),n=!0;break}n||e.push(t[o])}else e.push(t[o]);return e},cc._RF.pop()},{}]},{},["oneItem","scMain","scRecord","scStart","storage"]);